(this["webpackJsonpreact-complete-guide"]=this["webpackJsonpreact-complete-guide"]||[]).push([[0],{117:function(e,t,a){},147:function(e,t,a){"use strict";a.r(t);var n=a(11),c=a.n(n),s=a(26),i=(a(117),a(13)),l=a(0),o=a.n(l),r=a(194),j=a(197),d=a(199),u=a(1),b=Object(r.a)({root:{minWidth:275},bullet:{display:"inline-block",margin:"0 2px",transform:"scale(0.8)"},title:{fontSize:14},action:{position:"relative"},pos:{marginBottom:12}});function h(e){var t=b();t.bullet;return Object(u.jsx)(j.a,{className:t.root,children:Object(u.jsx)(d.a,{children:e.children})})}var O="PM",m="DEV",f="ADMIN",x=a(5),g=o.a.createContext({token:"",isLoggedIn:!1,login:function(e){},logout:function(){}}),p=function(e){var t=localStorage.getItem("token"),a=Object(l.useState)(t),n=Object(x.a)(a,2),c=n[0],s=n[1],i=Object(l.useState)(""),o=Object(x.a)(i,2),r=o[0],j=o[1],d=Object(l.useState)(""),b=Object(x.a)(d,2),h=b[0],O=b[1],m=Object(l.useState)(""),f=Object(x.a)(m,2),p=f[0],v=f[1],C=function(e){var t=e.split(".")[1].replace(/-/g,"+").replace(/_/g,"/"),a=decodeURIComponent(atob(t).split("").map((function(e){return"%"+("00"+e.charCodeAt(0).toString(16)).slice(-2)})).join(""));return JSON.parse(a)},S={token:c,isLoggedIn:!!c,login:function(e){s(e),localStorage.setItem("token",e),console.log(C(e)),j(C(e).role),O(C(e).userId),v(C(e).username)},logout:function(){s(null),localStorage.removeItem("token")},userRole:r,userId:h,username:p};return Object(u.jsx)(g.Provider,{value:S,children:e.children})},v=g,C=a(75),S=a.n(C),y=function(){var e=Object(l.useContext)(v),t=e.isLoggedIn,a=e.userRole===f,n=e.userRole===f||e.userRole===O;return Object(u.jsxs)("header",{className:S.a.header,children:[Object(u.jsx)(s.b,{to:"/",children:Object(u.jsx)("div",{className:S.a.logo,children:"Ricardo.ch"})}),Object(u.jsx)("nav",{children:Object(u.jsxs)("ul",{children:[t&&Object(u.jsxs)("ul",{children:[a&&Object(u.jsx)("li",{children:Object(u.jsx)(s.b,{to:"/users",children:"Users"})}),n&&Object(u.jsx)("li",{children:Object(u.jsx)(s.b,{to:"/projects",children:"Projects"})}),Object(u.jsx)("li",{children:Object(u.jsx)(s.b,{to:"/tasks",children:"Tasks"})}),Object(u.jsx)("li",{children:Object(u.jsx)("button",{onClick:function(){e.logout()},children:"Logout"})})]}),!t&&Object(u.jsx)("li",{children:Object(u.jsx)(s.b,{to:"/auth",children:"Login"})})]})})]})},k=function(e){return Object(u.jsxs)(l.Fragment,{children:[Object(u.jsx)(y,{}),Object(u.jsx)(h,{children:Object(u.jsx)("main",{children:e.children})})]})},N=a(95),I=a.n(N).a.create({baseURL:"http://localhost:8080",headers:{"Content-Type":"application/json"}}),W=a(52),E=a.n(W),A=function(){var e=Object(i.g)(),t=Object(l.useRef)(),a=Object(l.useRef)(),n=Object(l.useContext)(v),c=Object(l.useState)(!1),s=Object(x.a)(c,2),o=s[0],r=s[1],j=function(){var c=t.current.value,s=a.current.value;I.post("/api/v1/auth/login",{email:c,password:s}).then((function(t){n.login(t.data.token),e.replace("/")})).catch((function(e){alert(e.message)})).finally((function(){r(!1)}))};return Object(u.jsxs)("section",{className:E.a.auth,children:[Object(u.jsx)("h1",{children:"Login"}),Object(u.jsxs)("form",{onSubmit:function(e){e.preventDefault(),r(!0),j()},children:[Object(u.jsxs)("div",{className:E.a.control,children:[Object(u.jsx)("label",{htmlFor:"email",children:"Your Email"}),Object(u.jsx)("input",{type:"email",id:"email",required:!0,ref:t})]}),Object(u.jsxs)("div",{className:E.a.control,children:[Object(u.jsx)("label",{htmlFor:"password",children:"Your Password"}),Object(u.jsx)("input",{type:"password",id:"password",required:!0,ref:a})]}),Object(u.jsxs)("div",{className:E.a.actions,children:[!o&&Object(u.jsx)("button",{children:"Login"}),o&&Object(u.jsx)("p",{children:"Sending request..."}),Object(u.jsx)("button",{type:"button",className:E.a.toggle})]})]})]})},F=function(){return Object(u.jsx)(A,{})},w=a(96),P=a.n(w),_=function(){return Object(u.jsx)("section",{className:P.a.starting,children:Object(u.jsx)("h1",{children:"Welcome to the Project Management App"})})},z=function(){return Object(u.jsx)(_,{})},R=a(78),V=a(149),U=a(207),L=a(211),D=a(210),M=a(206),T=a(208),q=a(209),Y=a(150),B=a(200),J=a(29),G=a.n(J),H=a(64),Z=a.n(H);Object(r.a)((function(e){return{root:{display:"flex",flexDirection:"column",alignItems:"center","& > *":{margin:e.spacing(1)}}}}));var $=a(213),Q=a(204),K=a(202),X=a(203),ee=a(201),te="/api/v1/users",ae="/api/v1/projects",ne="/api/v1/tasks",ce="users",se="projects",ie="tasks";function le(e){var t,a=o.a.useState(!1),n=Object(x.a)(a,2),c=n[0],s=n[1],i=function(){s(!1)},r=Object(l.useContext)(v);e.domain===ce&&(t=te+"/"+e.elementId),e.domain===se&&(console.log("aici"),t=ae+"/"+e.elementId),e.domain===ie&&(t=ne+"/"+e.elementId);var j=function(){I.delete(t,{headers:{Authorization:r.token}}).then((function(t){alert("deleted successful!"),e.fetchElements()})).catch((function(e){alert(e.message)}))};return Object(u.jsxs)("div",{children:[Object(u.jsx)(Y.a,{variant:"outlined",color:"primary",onClick:function(){s(!0)},children:Object(u.jsx)(Z.a,{})}),Object(u.jsxs)($.a,{open:c,onClose:i,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[Object(u.jsx)(ee.a,{id:"alert-dialog-title",children:"DELETE"}),Object(u.jsx)(K.a,{children:Object(u.jsx)(X.a,{id:"alert-dialog-description",children:"Are you sure you want to delete this item?"})}),Object(u.jsxs)(Q.a,{children:[Object(u.jsx)(Y.a,{onClick:i,color:"primary",children:"No"}),Object(u.jsx)(Y.a,{onClick:function(){j(),s(!1)},color:"primary",autoFocus:!0,children:"Yes"})]})]})]})}var oe,re=a(205),je=a(43),de=a.n(je),ue=a(158),be=a(214),he=a(154),Oe=a(151),me=a(156),fe=Object(r.a)((function(e){return{formControl:{margin:e.spacing(1),minWidth:120},selectEmpty:{marginTop:e.spacing(2)}}}));function xe(e){var t,a=fe();return e.list.length>=1&&(t=e.list.map((function(e,t){return Object(u.jsx)(be.a,{value:e,children:e},t)}))),Object(u.jsx)("div",{children:Object(u.jsxs)(Oe.a,{className:a.formControl,children:[Object(u.jsx)(ue.a,{id:"demo-simple-select-helper-label",children:e.role}),Object(u.jsxs)(me.a,{labelId:"demo-simple-select-helper-label",id:"demo-simple-select-helper",value:e.field,onChange:function(t){e.setField(t.target.value),e.setIsValid(null!=t.target.value),""===t.target.value&&(e.setField(""),e.setIsValid(""))},children:[Object(u.jsx)(be.a,{value:"",children:Object(u.jsx)("em",{children:"None"})}),t]}),Object(u.jsxs)(he.a,{children:["It is mandatory to select a ",e.role]})]})})}function ge(e){return/^\s*[a-zA-Z][a-zA-Z0-9\-.\s]*$/.test(e)}function pe(e){return/^(([^<>()\[\]\.,;:\s@\"]+(\.[^<>()\[\]\.,;:\s@\"]+)*)|(\".+\"))@(([^<>()[\]\.,;:\s@\"]+\.)+[^<>()[\]\.,;:\s@\"]{2,})$/i.test(e)}function ve(){return[O,f,m]}function Ce(e){var t={fontSize:12,color:"#d3212d",display:"inline-block"},a=Object(l.useContext)(v),n=Object(l.useState)(""),c=Object(x.a)(n,2),s=c[0],i=c[1],r=Object(l.useState)(""),j=Object(x.a)(r,2),d=j[0],b=j[1],h=o.a.useState([]),m=Object(x.a)(h,2),g=m[0],p=m[1],C=o.a.useState([]),S=Object(x.a)(C,2),y=S[0],k=S[1],N=o.a.useState([]),W=Object(x.a)(N,2),E=W[0],A=W[1],F=o.a.useState(""),w=Object(x.a)(F,2),P=w[0],_=w[1],z=o.a.useState(""),R=Object(x.a)(z,2),V=R[0],U=R[1],L=o.a.useState(!1),D=Object(x.a)(L,2),M=D[0],T=D[1],q=Object(l.useState)(ge(s)),B=Object(x.a)(q,2),J=B[0],G=B[1],H=Object(l.useState)(d.length>1),Z=Object(x.a)(H,2),X=Z[0],ce=Z[1],se=Object(l.useState)(g.length>=1),ie=Object(x.a)(se,2),le=ie[0],oe=ie[1],je=Object(l.useState)(P.length>=1),ue=Object(x.a)(je,2),be=(ue[0],ue[1]),he=Object(l.useState)(V.length>=1),Oe=Object(x.a)(he,2),me=(Oe[0],Oe[1]),fe=function(){pe(),T(!1)},pe=function(){G(!1),ce(!1),p(""),U(""),_("")},ve=function(){I.post(ne,{description:s,progress:d,status:g,projectCode:P,assignee:V},{headers:{Authorization:a.token}}).then((function(t){e.fetchElements(),T(!1),alert("Task created successfully")})).catch((function(e){alert(e.message),T(!1)}))};return Object(l.useEffect)((function(){!function(){var e;a.userRole===O?e=te+"/"+a.userId+"/projects":a.userRole===f&&(e=ae),I.get(e,{headers:{Authorization:a.token}}).then((function(e){var t=new Array;e.data.map((function(e){return t.push(e.code)})),k(t),console.log("aici>>>>>",t)})).catch((function(e){alert(e.message)}))}(),I.get(te,{headers:{Authorization:a.token}}).then((function(e){var t=new Array;e.data.map((function(e){return t.push(e.username)})),A(t)})).catch((function(e){alert(e.message)}))}),[]),Object(u.jsxs)("div",{children:[Object(u.jsx)(Y.a,{variant:"outlined",color:"primary",onClick:function(){T(!0)},children:Object(u.jsx)(de.a,{})}),Object(u.jsxs)($.a,{open:M,onClose:fe,"aria-labelledby":"form-dialog-title",fullWidth:!0,children:[Object(u.jsx)(ee.a,{id:"form-dialog-title",children:"Create Task"}),Object(u.jsxs)(K.a,{children:[Object(u.jsx)(re.a,{autoFocus:!0,margin:"dense",id:"description",label:"Description",type:"text",onChange:function(e){i(e.target.value),G(ge(e.target.value))},fullWidth:!0}),!J&&Object(u.jsx)("p",{style:t,children:" description must be valid"}),Object(u.jsx)(re.a,{autoFocus:!0,margin:"dense",id:"progress",label:"Progress",type:"text",onChange:function(e){b(e.target.value),ce(e.target.value.length>1)},fullWidth:!0}),!X&&Object(u.jsx)("p",{style:t,children:" progress name must be valid"}),Object(u.jsx)(xe,{role:"Status",list:["NEW","IN_PROGRESS","COMPLETED"],field:g,setField:p,setIsValid:oe}),Object(u.jsx)(xe,{role:"Code",list:y,field:P,setField:_,setIsValid:be}),Object(u.jsx)(xe,{role:"Assignee",list:E,field:V,setField:U,setIsValid:me})]}),Object(u.jsxs)(Q.a,{children:[Object(u.jsx)(Y.a,{onClick:fe,color:"primary",children:"Cancel"}),Object(u.jsx)(Y.a,{onClick:function(){ve(),pe(),T(!1)},color:"primary",disabled:!J||!X||!le,children:"Create"})]})]})]})}function Se(e){var t={fontSize:12,color:"#d3212d",display:"inline-block"},a=Object(l.useContext)(v),n=Object(l.useState)(""),c=Object(x.a)(n,2),s=c[0],i=c[1],r=Object(l.useState)(""),j=Object(x.a)(r,2),d=j[0],b=j[1],h=Object(l.useState)(""),O=Object(x.a)(h,2),m=O[0],f=O[1],g=Object(l.useState)(""),p=Object(x.a)(g,2),C=p[0],S=p[1],y=Object(l.useState)(""),k=Object(x.a)(y,2),N=k[0],W=k[1],E=o.a.useState([]),A=Object(x.a)(E,2),F=A[0],w=A[1],P=o.a.useState(!1),_=Object(x.a)(P,2),z=_[0],R=_[1],V=Object(l.useState)(pe(s)),U=Object(x.a)(V,2),L=U[0],D=U[1],M=Object(l.useState)(ge(d)),T=Object(x.a)(M,2),q=T[0],B=T[1],J=Object(l.useState)(ge(m)),G=Object(x.a)(J,2),H=G[0],Z=G[1],X=Object(l.useState)(F.length>=1),ae=Object(x.a)(X,2),ne=ae[0],ce=ae[1],se=function(){ie(),R(!1)},ie=function(){w(""),W(""),ce(!1),D(!1),B(!1),Z(!1)},le=function(){I.post(te,{email:s,firstName:d,lastName:m,username:C,role:F,password:N},{headers:{Authorization:a.token}}).then((function(t){e.fetchElements(),R(!1),alert("User created successfully")})).catch((function(e){alert(e.response.data),R(!1)}))};return Object(u.jsxs)("div",{children:[Object(u.jsx)(Y.a,{variant:"outlined",color:"primary",onClick:function(){R(!0)},children:Object(u.jsx)(de.a,{})}),Object(u.jsxs)($.a,{open:z,onClose:se,"aria-labelledby":"form-dialog-title",fullWidth:!0,children:[Object(u.jsx)(ee.a,{id:"form-dialog-title",children:"Create User"}),Object(u.jsxs)(K.a,{children:[Object(u.jsx)(re.a,{autoFocus:!0,margin:"dense",id:"email",label:"Email",type:"text",onChange:function(e){i(e.target.value),D(pe(e.target.value))},fullWidth:!0}),!L&&Object(u.jsx)("p",{style:t,children:" email must be valid"}),Object(u.jsx)(re.a,{autoFocus:!0,margin:"dense",id:"firstName",label:"First Name",type:"text",onChange:function(e){b(e.target.value),B(ge(e.target.value))},fullWidth:!0}),!q&&Object(u.jsx)("p",{style:t,children:" first name must be valid"}),Object(u.jsx)(re.a,{autoFocus:!0,margin:"dense",id:"lastName",label:"Last Name",type:"text",onChange:function(e){f(e.target.value),Z(ge(e.target.value))},fullWidth:!0}),!H&&Object(u.jsx)("p",{style:t,children:" last name must be valid"}),Object(u.jsx)(re.a,{autoFocus:!0,margin:"dense",id:"userName",label:"Username",type:"text",fullWidth:!0,onChange:function(e){S(e.target.value)}}),Object(u.jsx)(re.a,{autoFocus:!0,margin:"dense",id:"password",label:"Password",type:"password",fullWidth:!0,onChange:function(e){W(e.target.value)}}),Object(u.jsx)(xe,{role:"Role",list:ve(),field:F,setField:w,setIsValid:ce})]}),Object(u.jsxs)(Q.a,{children:[Object(u.jsx)(Y.a,{onClick:se,color:"primary",children:"Cancel"}),Object(u.jsx)(Y.a,{onClick:function(){le(),ie(),R(!1)},color:"primary",disabled:!L||!q||!H||!ne,children:"Create"})]})]})]})}function ye(e){return Object(u.jsx)("div",{children:Object(u.jsxs)($.a,{open:!0,onClose:e.handleClose,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[Object(u.jsx)(ee.a,{id:"alert-dialog-title",children:e.title}),Object(u.jsx)(K.a,{children:Object(u.jsx)(X.a,{id:"alert-dialog-description",children:e.message})}),Object(u.jsx)(Q.a,{children:Object(u.jsx)(Y.a,{onClick:e.handleClose,color:"primary",children:"Close"})})]})})}function ke(e){var t={fontSize:12,color:"#d3212d",display:"inline-block"},a=Object(l.useContext)(v),n=Object(l.useState)(""),c=Object(x.a)(n,2),s=c[0],i=c[1],r=Object(l.useState)(""),j=Object(x.a)(r,2),d=j[0],b=j[1],h=Object(l.useState)([]),m=Object(x.a)(h,2),f=m[0],g=m[1],p=o.a.useState([]),C=Object(x.a)(p,2),S=C[0],y=C[1],k=o.a.useState(!1),N=Object(x.a)(k,2),W=N[0],E=N[1],A=Object(l.useState)(s.length>2),F=Object(x.a)(A,2),w=F[0],P=F[1],_=Object(l.useState)(ge(d)),z=Object(x.a)(_,2),R=z[0],V=z[1],U=Object(l.useState)(S.length>=1),L=Object(x.a)(U,2),D=L[0],M=L[1],T=function(){q(),E(!1)},q=function(){y(""),i(""),P(!1),V(!1)},B=function(){I.post("/api/v1/projects",{code:s,name:d,assignee:S},{headers:{Authorization:a.token}}).then((function(t){e.fetchElements(),E(!1),alert("Project created successfully")})).catch((function(e){alert(e.message),E(!1)}))};Object(l.useEffect)((function(){I.get(te+"?role=PM",{headers:{Authorization:a.token}}).then((function(e){var t=new Array;e.data.map((function(e){return t.push(e.username)})),g(t)})).catch((function(e){alert(e.message)}))}),[]);var J=f.length>1;return Object(u.jsxs)("div",{children:[Object(u.jsx)(Y.a,{variant:"outlined",color:"primary",onClick:function(){E(!0)},children:Object(u.jsx)(de.a,{})}),Object(u.jsxs)($.a,{open:W,onClose:T,"aria-labelledby":"form-dialog-title",fullWidth:!0,children:[Object(u.jsx)(ee.a,{id:"form-dialog-title",children:"Create Project"}),J?Object(u.jsxs)(K.a,{children:[Object(u.jsx)(re.a,{autoFocus:!0,margin:"dense",id:"code",label:"Project Code",type:"text",onChange:function(e){i(e.target.value),P(e.target.value.length>2)},fullWidth:!0}),!w&&Object(u.jsx)("p",{style:t,children:" project code must be valid"}),Object(u.jsx)(re.a,{autoFocus:!0,margin:"dense",id:"name",label:"Project Name",type:"text",onChange:function(e){b(e.target.value),V(ge(e.target.value))},fullWidth:!0}),!R&&Object(u.jsx)("p",{style:t,children:" project name must be valid"}),Object(u.jsx)(xe,{role:O,list:f,field:S,setField:y,setIsValid:M})]}):Object(u.jsx)(ye,{handleClose:T,title:"Project creation not possible",message:"No Project Managers are available"}),Object(u.jsxs)(Q.a,{children:[Object(u.jsx)(Y.a,{onClick:T,color:"primary",children:"Cancel"}),Object(u.jsx)(Y.a,{onClick:function(){B(),q(),E(!1)},color:"primary",disabled:!w||!R||!D,children:"Create"})]})]})]})}function Ne(e){var t={fontSize:12,color:"#d3212d",display:"inline-block"},a=Object(l.useContext)(v),n=Object(l.useState)(""),c=Object(x.a)(n,2),s=c[0],i=c[1],r=Object(l.useState)(""),j=Object(x.a)(r,2),d=j[0],b=j[1],h=Object(l.useState)(""),O=Object(x.a)(h,2),m=O[0],f=O[1],g=Object(l.useState)(""),p=Object(x.a)(g,2),C=p[0],S=p[1],y=o.a.useState(""),k=Object(x.a)(y,2),N=k[0],W=k[1],E=o.a.useState(!1),A=Object(x.a)(E,2),F=A[0],w=A[1],P=Object(l.useState)(pe(s)),_=Object(x.a)(P,2),z=_[0],R=_[1],V=Object(l.useState)(ge(d)),U=Object(x.a)(V,2),L=U[0],D=U[1],M=Object(l.useState)(ge(m)),T=Object(x.a)(M,2),q=T[0],B=T[1],J=Object(l.useState)(N.length>=1),H=Object(x.a)(J,2),Z=H[0],X=H[1],ae=function(){ne(),w(!1)},ne=function(){W(""),X(!1),R(!1),D(!1),B(!1)},ce=function(){I.put(te+"/"+e.elementId,{id:e.elementId,email:s,firstName:d,lastName:m,username:C,role:N},{headers:{Authorization:a.token}}).then((function(t){e.fetchElements(),w(!1),alert("User updated successfully")})).catch((function(e){alert(e.response.data),w(!1)}))};return Object(u.jsxs)("div",{children:[Object(u.jsx)(Y.a,{variant:"outlined",color:"primary",onClick:function(){var t=e.rows.filter((function(t){return t.id===e.elementId}))[0];i(t.email),b(t.firstName),f(t.lastName),S(t.username),W(t.role),R(pe(t.email)),D(ge(t.firstName)),B(ge(t.lastName)),X(!0),w(!0)},children:Object(u.jsx)(G.a,{})}),Object(u.jsxs)($.a,{open:F,onClose:ae,"aria-labelledby":"form-dialog-title",children:[Object(u.jsx)(ee.a,{id:"form-dialog-title",children:"Update User"}),Object(u.jsxs)(K.a,{children:[Object(u.jsx)(re.a,{defaultValue:s,autoFocus:!0,margin:"dense",id:"email",label:"Email",type:"text",onChange:function(e){i(e.target.value),R(pe(e.target.value))},fullWidth:!0}),!z&&Object(u.jsx)("p",{style:t,children:" email must be valid"}),Object(u.jsx)(re.a,{defaultValue:d,autoFocus:!0,margin:"dense",id:"firstName",label:"First Name",type:"text",onChange:function(e){b(e.target.value),D(ge(e.target.value))},fullWidth:!0}),!L&&Object(u.jsx)("p",{style:t,children:" first name must be valid"}),Object(u.jsx)(re.a,{defaultValue:m,autoFocus:!0,margin:"dense",id:"lastName",label:"Last Name",type:"text",onChange:function(e){f(e.target.value),B(ge(e.target.value))},fullWidth:!0}),!q&&Object(u.jsx)("p",{style:t,children:" last name must be valid"}),Object(u.jsx)(re.a,{defaultValue:C,autoFocus:!0,margin:"dense",id:"userName",label:"Username",type:"text",fullWidth:!0,onChange:function(e){S(e.target.value)}}),Object(u.jsx)(xe,{role:"Role",list:ve(),field:N,setField:W,setIsValid:X})]}),Object(u.jsxs)(Q.a,{children:[Object(u.jsx)(Y.a,{onClick:ae,color:"primary",children:"Cancel"}),Object(u.jsx)(Y.a,{onClick:function(){ce(),ne(),w(!1)},color:"primary",disabled:!z||!L||!q||!Z,children:"Update"})]})]})]})}function Ie(e){var t={fontSize:12,color:"#d3212d",display:"inline-block"},a=Object(l.useContext)(v),n=Object(l.useState)(""),c=Object(x.a)(n,2),s=c[0],i=c[1],r=Object(l.useState)(""),j=Object(x.a)(r,2),d=j[0],b=j[1],h=Object(l.useState)([]),m=Object(x.a)(h,2),f=m[0],g=m[1],p=o.a.useState(""),C=Object(x.a)(p,2),S=C[0],y=C[1],k=o.a.useState(!1),N=Object(x.a)(k,2),W=N[0],E=N[1],A=Object(l.useState)(s.length>2),F=Object(x.a)(A,2),w=F[0],P=F[1],_=Object(l.useState)(ge(d)),z=Object(x.a)(_,2),R=z[0],V=z[1],U=Object(l.useState)(S.length>=1),L=Object(x.a)(U,2),D=L[0],M=L[1],T=function(){q(),E(!1)},q=function(){y(""),i(""),P(!1),V(!1)},B=function(){I.put(ae+"/"+e.elementId,{id:e.elementId,code:s,name:d,assignee:S},{headers:{Authorization:a.token}}).then((function(t){e.fetchElements(),E(!1),alert("Project updated successfully")})).catch((function(e){alert(e.response.data),E(!1)}))};Object(l.useEffect)((function(){I.get(te+"?role=PM",{headers:{Authorization:a.token}}).then((function(e){var t=new Array;e.data.map((function(e){return t.push(e.username)})),g(t)})).catch((function(e){alert(e.message)}))}),[]);var J=f.length>1;return Object(u.jsxs)("div",{children:[Object(u.jsx)(Y.a,{variant:"outlined",color:"primary",onClick:function(){var t=e.rows.filter((function(t){return t.id===e.elementId}))[0];i(t.code),b(t.name),y(t.assignee),P(t.code.length>1),V(ge(t.name)),M(!0),E(!0)},children:Object(u.jsx)(G.a,{})}),Object(u.jsxs)($.a,{open:W,onClose:T,"aria-labelledby":"form-dialog-title",fullWidth:!0,children:[Object(u.jsx)(ee.a,{id:"form-dialog-title",children:"Update Project"}),J?Object(u.jsxs)(K.a,{children:[Object(u.jsx)(re.a,{defaultValue:s,autoFocus:!0,margin:"dense",id:"code",label:"Project Code",type:"text",onChange:function(e){i(e.target.value),P(e.target.value.length>2)},fullWidth:!0}),!w&&Object(u.jsx)("p",{style:t,children:" project code must be valid"}),Object(u.jsx)(re.a,{defaultValue:d,autoFocus:!0,margin:"dense",id:"name",label:"Project Name",type:"text",onChange:function(e){b(e.target.value),V(ge(e.target.value))},fullWidth:!0}),!R&&Object(u.jsx)("p",{style:t,children:" project name must be valid"}),!e.domain===se&&Object(u.jsx)(xe,{role:O,list:f,field:S,setField:y,setIsValid:M})]}):Object(u.jsx)(ye,{handleClose:T,title:"Project creation not possible",message:"No Project Managers are available"}),Object(u.jsxs)(Q.a,{children:[Object(u.jsx)(Y.a,{onClick:T,color:"primary",children:"Cancel"}),Object(u.jsx)(Y.a,{onClick:function(){B(),q(),E(!1)},color:"primary",disabled:!w||!R||!D,children:"Update"})]})]})]})}function We(e){var t={fontSize:12,color:"#d3212d",display:"inline-block"},a=Object(l.useContext)(v),n=Object(l.useState)(""),c=Object(x.a)(n,2),s=c[0],i=c[1],r=Object(l.useState)(""),j=Object(x.a)(r,2),d=j[0],b=j[1],h=o.a.useState(""),O=Object(x.a)(h,2),f=O[0],g=O[1],p=o.a.useState([]),C=Object(x.a)(p,2),S=C[0],y=C[1],k=o.a.useState([]),N=Object(x.a)(k,2),W=N[0],E=N[1],A=o.a.useState(""),F=Object(x.a)(A,2),w=F[0],P=F[1],_=o.a.useState(""),z=Object(x.a)(_,2),R=z[0],V=z[1],U=o.a.useState(!1),L=Object(x.a)(U,2),D=L[0],M=L[1],T=Object(l.useState)(ge(s)),q=Object(x.a)(T,2),B=q[0],J=q[1],H=Object(l.useState)(!isNaN(d)),Z=Object(x.a)(H,2),X=Z[0],ce=Z[1],ie=Object(l.useState)(f.length>=1),le=Object(x.a)(ie,2),oe=le[0],je=le[1],de=Object(l.useState)(ge(w)),ue=Object(x.a)(de,2),be=(ue[0],ue[1]),he=Object(l.useState)(ge(R)),Oe=Object(x.a)(he,2),me=(Oe[0],Oe[1]),fe=function(){pe(),M(!1)},pe=function(){J(!1),ce(!1),g(""),V(""),P("")},ve=function(){I.put(ne+"/"+e.elementId,{description:s,progress:d,status:f,projectCode:w,assignee:R},{headers:{Authorization:a.token}}).then((function(){e.fetchElements(),M(!1),alert("Task updated successfully")})).catch((function(e){alert(e.response.data),M(!1)}))};return Object(l.useEffect)((function(){a.userRole!==m&&(console.log(a),console.log("final"),I.get(ae,{headers:{Authorization:a.token}}).then((function(e){var t=new Array;e.data.map((function(e){return t.push(e.code)})),y(t)})).catch((function(e){alert(e.response.data)})),I.get(te,{headers:{Authorization:a.token}}).then((function(e){var t=new Array;e.data.map((function(e){return t.push(e.username)})),E(t)})).catch((function(e){alert(e.message)})))}),[]),Object(u.jsxs)("div",{children:[Object(u.jsx)(Y.a,{variant:"outlined",color:"primary",onClick:function(){var t=e.rows.filter((function(t){return t.id===e.elementId}))[0];i(t.description),b(t.progress),g(t.status),P(t.projectCode),V(t.assignee),J(ge(t.description)),je(t.status.length>1),me(!0),be(!0),ce(!isNaN(d)),M(!0)},children:Object(u.jsx)(G.a,{})}),Object(u.jsxs)($.a,{open:D,onClose:fe,"aria-labelledby":"form-dialog-title",fullWidth:!0,children:[Object(u.jsx)(ee.a,{id:"form-dialog-title",children:"Update Task"}),Object(u.jsxs)(K.a,{children:[Object(u.jsx)(re.a,{defaultValue:s,autoFocus:!0,margin:"dense",id:"description",label:"Description",type:"text",onChange:function(e){i(e.target.value),J(ge(e.target.value))},fullWidth:!0}),!B&&Object(u.jsx)("p",{style:t,children:" description must be valid"}),Object(u.jsx)(re.a,{defaultValue:d,autoFocus:!0,margin:"dense",id:"progress",label:"Progress",type:"text",onChange:function(e){b(e.target.value),ce(!isNaN(e.target.value)),console.log(!isNaN(e.target.value))},fullWidth:!0}),!X&&Object(u.jsx)("p",{style:t,children:" progress name must be valid"}),Object(u.jsx)(xe,{role:"Status",list:["NEW","IN_PROGRESS","COMPLETED"],field:f,setField:g,setIsValid:je}),e.domain!==se&&Object(u.jsx)(xe,{role:"Code",list:S,field:w,setField:P,setIsValid:be}),a.userRole!==m&&Object(u.jsx)(xe,{role:"Assignee",list:W,field:R,setField:V,setIsValid:me})]}),Object(u.jsxs)(Q.a,{children:[Object(u.jsx)(Y.a,{onClick:fe,color:"primary",children:"Cancel"}),Object(u.jsx)(Y.a,{onClick:function(){ve(),pe(),M(!1)},color:"primary",disabled:!B||!X||!oe,children:"Update"})]})]})]})}var Ee=Object(r.a)((oe={root:{width:"100%"},container:{maxHeight:440}},Object(R.a)(oe,"container",{position:"relative",alignItems:"left"}),Object(R.a)(oe,"button",{textSizeAdjust:"50",backgroundColor:"#3f51b5",margin:"left"}),oe));function Ae(e){var t=Object(l.useContext)(v),a=Ee(),n=o.a.useState(0),c=Object(x.a)(n,2),s=c[0],i=(c[1],o.a.useState(10)),r=Object(x.a)(i,2),j=r[0],d=(r[1],e.domain===ce),b=e.domain===se&&t.userRole===f,h=e.domain===ie&&t.userRole!==m,O=e.domain!==ie||t.userRole===f;return Object(u.jsx)(V.a,{className:a.root,children:Object(u.jsx)(M.a,{className:a.container,children:Object(u.jsxs)(U.a,{stickyHeader:!0,"aria-label":"sticky table",children:[Object(u.jsxs)(T.a,{children:[Object(u.jsx)(q.a,{children:Object(u.jsxs)(D.a,{align:"right",colSpan:"10",children:[d&&Object(u.jsx)(Se,{fetchElements:e.fetchElements}),b&&Object(u.jsx)(ke,{fetchElements:e.fetchElements}),h&&Object(u.jsx)(Ce,{fetchElements:e.fetchElements,rows:e.rows})]})}),Object(u.jsx)(q.a,{children:e.columns.map((function(e){return Object(u.jsx)(D.a,{align:e.align,style:{minWidth:e.minWidth},children:e.label},e.id)}))})]}),Object(u.jsx)(L.a,{children:e.rows.slice(s*j,s*j+j).map((function(t){return Object(u.jsx)(q.a,{hover:!0,role:"checkbox",tabIndex:-1,children:e.columns.map((function(a,n){var c=t[a.id];return n===e.columns.length-2?Object(u.jsx)(D.a,{align:a.align,children:Object(u.jsxs)(B.a,{children:[O&&Object(u.jsx)(le,{domain:e.domain,elementId:t.id,fetchElements:e.fetchElements}),e.domain===ce&&Object(u.jsx)(Ne,{domain:e.domain,elementId:t.id,fetchElements:e.fetchElements,rows:e.rows}),e.domain===se&&Object(u.jsx)(Ie,{domain:e.domain,elementId:t.id,fetchElements:e.fetchElements,rows:e.rows}),e.domain===ie&&Object(u.jsx)(We,{domain:e.domain,elementId:t.id,fetchElements:e.fetchElements,rows:e.rows})]})},a.id):Object(u.jsx)(D.a,{align:a.align,children:a.format&&"number"===typeof c?a.format(c):c},a.id)}))},t.id)}))})]})})})}var Fe=a(97),we=a.n(Fe),Pe=[{id:"id",label:"Project ID",minWidth:170},{id:"code",label:"Code",minWidth:100},{id:"name",label:"Name",minWidth:100},{id:"assignee",label:"Asignee",minWidth:100},{id:"actions",label:"Actions",minWidth:100},,],_e=function(){var e=Object(l.useContext)(v),t=Object(l.useState)([]),a=Object(x.a)(t,2),n=a[0],c=a[1];Object(l.useEffect)((function(){o()}),[]);var s,i=e.userId;e.userRole===f?s="/api/v1/projects":e.userRole===O&&(s=te+"/"+i+"/projects");var o=function(){I.get(s,{headers:{Authorization:e.token}}).then((function(e){c(e.data)})).catch((function(e){alert(e.message)}))};return Object(u.jsxs)("section",{className:we.a.profile,children:[Object(u.jsx)("h1",{children:"Projects"}),Object(u.jsx)(Ae,{columns:Pe,rows:n,domain:se,fetchElements:o})]})},ze=a(98),Re=a.n(ze),Ve=[{id:"id",label:"User ID",minWidth:170},{id:"email",label:"Email",minWidth:100},{id:"firstName",label:"First Name",minWidth:100},{id:"lastName",label:"Last Name",minWidth:100},{id:"username",label:"Username",minWidth:100},{id:"role",label:"role",minWidth:100},{id:"actions",label:"Actions",minWidth:100,align:"center"},,],Ue=function(){var e=Object(l.useContext)(v),t=Object(l.useState)([]),a=Object(x.a)(t,2),n=a[0],c=a[1];Object(l.useEffect)((function(){s()}),[]);var s=function(){I.get(te,{headers:{Authorization:e.token}}).then((function(e){c(e.data)})).catch((function(e){alert(e.message)}))};return Object(u.jsxs)("section",{className:Re.a.profile,children:[Object(u.jsx)("h1",{children:"Users"}),Object(u.jsx)(Ae,{columns:Ve,rows:n,domain:ce,fetchElements:s})]})},Le=a(99),De=a.n(Le),Me=[{id:"id",label:"User ID",minWidth:170},{id:"description",label:"Description",minWidth:100},{id:"pm",label:"Project Manager",minWidth:100},{id:"progress",label:"Progress",minWidth:100},{id:"status",label:"Status",minWidth:100},{id:"deadline",label:"Deadline",minWidth:100},{id:"projectCode",label:"Project Code",minWidth:100},{id:"assignee",label:"Assignee",minWidth:100},{id:"actions",label:"Actions",minWidth:100},,],Te=function(){var e=Object(l.useContext)(v),t=Object(l.useState)([]),a=Object(x.a)(t,2),n=a[0],c=a[1];Object(l.useEffect)((function(){o()}),[]);var s,i=e.userId;e.userRole===f?(s=ne,console.log("**3333*")):e.userRole===O?(s=te+"/"+i+"/projects/tasks",console.log("**444*")):e.userRole===m&&(s=te+"/"+i+"/tasks",console.log("**555*"));var o=function(){I.get(s,{headers:{Authorization:e.token}}).then((function(e){c(e.data),console.log("***",e.data)})).catch((function(e){alert(e.message)}))};return Object(u.jsxs)("section",{className:De.a.profile,children:[Object(u.jsx)("h1",{children:"Tasks"}),Object(u.jsx)(Ae,{columns:Me,rows:n,domain:ie,fetchElements:o})]})};var qe=function(){var e=Object(l.useContext)(v);return Object(u.jsx)(k,{children:Object(u.jsxs)(i.d,{children:[!e.isLoggedIn&&Object(u.jsxs)(i.d,{children:[Object(u.jsx)(i.b,{path:"/auth",children:Object(u.jsx)(F,{})}),Object(u.jsx)(i.b,{path:"/",exact:!0,children:Object(u.jsx)(z,{})})]}),e.isLoggedIn&&Object(u.jsxs)(i.d,{children:[Object(u.jsx)(i.b,{path:"/projects",children:Object(u.jsx)(_e,{})}),Object(u.jsx)(i.b,{path:"/users",children:Object(u.jsx)(Ue,{})}),Object(u.jsx)(i.b,{path:"/tasks",children:Object(u.jsx)(Te,{})})]}),Object(u.jsx)(i.b,{path:"*",children:Object(u.jsx)(i.a,{to:"/"})})]})})};c.a.render(Object(u.jsx)(p,{children:Object(u.jsx)(s.a,{children:Object(u.jsx)(qe,{})})}),document.getElementById("root"))},52:function(e,t,a){e.exports={auth:"AuthForm_auth__MPw6W",control:"AuthForm_control__2fVSU",actions:"AuthForm_actions__1VNhY",toggle:"AuthForm_toggle__21tnB"}},75:function(e,t,a){e.exports={header:"MainNavigation_header__2lqQ1",logo:"MainNavigation_logo__1TgMx"}},96:function(e,t,a){e.exports={starting:"StartingPageContent_starting__kwCvL"}},97:function(e,t,a){e.exports={profile:"Project_profile__jazIg"}},98:function(e,t,a){e.exports={profile:"User_profile__1lzIf"}},99:function(e,t,a){e.exports={profile:"Task_profile__3p3u2"}}},[[147,1,2]]]);
//# sourceMappingURL=main.3b615692.chunk.js.map